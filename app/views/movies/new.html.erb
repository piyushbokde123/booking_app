<!DOCTYPE html>
<html lang="en">
<head>
  <title>Movies Listing</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <h1 class="mx-auto" style="width: 40rem;">Add New Movie</h1>
  <div class="mx-auto" style="width: 40rem;">
  <%= form_with(model: @movie, html: { class: "form-horizontal" }) do |form| %>
    <div class="form-group">
      <%= form.label :name, class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= form.text_field :name, class: "form-control" %>
      </div>
    </div>

    <div class="form-group">
      <%= form.label :genre, class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= form.text_area :genre, class: "form-control" %>
      </div>
    </div>

    <div class="form-group">
      <%= form.label :image, class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= form.file_field :image, class: "form-control" %>
      </div>
    </div>

    <div id="show_times_fields">
      <%= form.fields_for :show_times do |show_time_form| %>
        <div class="form-group">
          <%= show_time_form.label :date, class: "control-label col-sm-2" %>
          <div class="col-sm-10">
            <%= show_time_form.date_field :date, class: "form-control" %>
          </div>
        </div>
        
        <div class="form-group">
          <%= show_time_form.label :start_time, class: "control-label col-sm-2" %>
          <div class="col-sm-10">
            <%= show_time_form.time_field :start_time, class: "form-control" %>
          </div>
        </div>

        <div class="form-group">
          <%= show_time_form.label :seat_count, class: "control-label col-sm-2" %>
          <div class="col-sm-10">
            <%= show_time_form.number_field :seat_count, class: "form-control" %>
          </div>
        </div>
      <% end %>
      </div>
      </br>
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <%= button_tag "Add Show Time", id: "add_show_time", class: "btn btn-secondary", data: { index: @movie.show_times.length } %>
        </div>
      </div>
      </br>
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <%= form.submit "Submit", class: "btn btn-primary", id: "submit_button" %>
        </div>
      </div>
    <% end %>
  </div>
</body>

