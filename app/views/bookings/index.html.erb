<!DOCTYPE html>
<html lang="en">
<head>
  <title>Booking</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<h1> Bookings </h1>
<table class="table">
  <thead>
    <tr>
      <th>Movie</th>
      <th>Showtime</th>
      <th>Total Seats</th>
      <th>Details</th>
      <th>Name</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <% @bookings.each do |booking| %>
      <tr>
        <td><%= booking.show_time.movie.name %></td>
        <td><%= booking.show_time.start_time.strftime("%I:%M %p") %></td>
        <td><%= booking.total_seats %></td>
        <td><%= booking.detail %></td>
        <td><%= booking.user.name %></td>
        <td class="d-flex gap-2">
          <%= button_to "Cancel", booking_path(booking), method: :delete, data: { confirm: "Are you sure you want to cancel this booking?" }, class: "btn btn-danger btn-sm", style: "margin-right: 5px;" %>
          <%= button_to "Show", show_time_booking_path(booking.show_time, booking), method: :get, class: "btn btn-danger btn-sm" %>
        </td>
      </tr>
    <% end %>

  </tbody>
</table>
</body>

